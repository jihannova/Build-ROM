env:
    CIRRUS_CLONE_DEPTH: 1
    #gcp_credentials: "ENCRYPTED[52d9731bab8dea7e2f71cbd5162d10dc57e1c8a9e91779b86758948763c13b48d21681a2f0f20a8e6c5133dfbb445c47]"
    Nusantara: "ENCRYPTED[!35640039e327d731ce3a0c030d67cb49429e5d9a4d1b92ff6aae0838c5ed135551f799e89ce8ec5293168ed2e2b62962!]"
    rclone_config: "ENCRYPTED[!a27a2c09dd97e12c82703886607868a15df7b773a993313a0d372d9d33ea0a9ca5c7b8227e1e694e6b5307fd21232a67!]"
    #TG_TOKEN: "ENCRYPTED[!ae64f4fd826ab2764fcb72fb8656f12aa280fae3ca426bba90c70d53b08b7e08cc3a1f94af7f8144e2973d527456cd1b!]"
    #TG_CHAT_ID: "ENCRYPTED[!029352af8b1128d0d5cd801d06d2b1a11d0607221a92831ec33f68d87adeaa4165b6febf0226a205dc7cf5dd7e788d1d!]"
    SF_USERNAME: "ENCRYPTED[!6c4059493fb5150506013771f7eee2e4648aaaf16567621059ece4276f5a88006e9fd727548908b23f2794d70b3b2ed8!]"
    SF_PASS: "ENCRYPTED[!122bab13210e1e2719e0362bc5d601afde38ecfb19797a74226d64a4ade63bfd5d303a2e685b0288fb135506a12e0448!]"
    ROM_PROJECT: "nad-13-wip"
    GIT: "ENCRYPTED[!5c0be80f35adbe5b62f4b5c0a5e18a7a95503c3ae288f0d3e835ad01027716980db4cae090e094be716335ea842c06a3!]"
    #DOCKER_HUB_PWD: "ENCRYPTED[45147df4523a226976c523c65f2a84d3361dff9316c97a1cef1aee1ac524b430d5a4b48e18f28603109a27f52bc7a721]"
    TOKEN: "ENCRYPTED[!820ada0cc3426d85e54e55a7cc1586917d1ef7b4db01102982bab081bc5de2a124b45babc64631b1006cc2b28df530e1!]"

task:
  name: Syncing, Building and Uploading
  timeout_in: 1h
  container:
    image: arifjenong/rom:nad
    cpu: 4
    memory: 16G

  Env_background_script:
      - ./env.sh

  Build_script:
      #- ./repo.sh
      - cd ~/rom
      - git clone https://github.com/NusantaraROM-Devices/android_kernel_sony_msm8998 kernel && cd ker*
      - git cherry-pick 7865ac67691e06aca081eb69d17a06810360d764 f56733a6395e1a27cd56d8c8076e27d5a2e79ecd 095d8697f2ea352d149dfe25d73482b6536c0b9d 8a5a99e0496696a3578e101626608b36758d9495 e0b2f995e22f69c2388aa502d0a669b3197307fd 7418a52da2f0e1d04cf8ad15778193acd27dece9 e8b541cce3f5d9f840a7723673704c2dc5d3e54b 63542aa651b9e2819bed46aa4fd8d460317984ce c36685fac661083bcf7fc82945aeabc1bed3ecde 8e5787e09c743e9343114ec121057cd7efc0cbc0 e12de99064ec810c4dbd2abceda400f6c936e59c 1eb7f2e83062ca184a016c1ffc77a5733979425d 94a79f7b2ea332a2b9a44ea4d091298975e3d639 332b6ac8d29f02998f497796706f9cf572e056d6 492ff4de8f4f2a6f2125e64fe4347e76a40e7959 01bfb4970a3955a5b9885d8bb2aefe0636c28b8d 2a6121d5e1cd85efa5c8a540b86fb7588caecaab ef3e49977e96353d33a1285682c917dd0fa7c01e be42048fe4fbd1fe6a21a3c6414660226225672f 956bdf1f6454f57b949bbbf64e6a538bcea43ff6 8005055ca052184378da68c9d06ba27cad2bd94a fe48f12723af6ae23958da7ab4779d0eda479a20 47bc0b985ddbf4ce70233d5b05690a0b0f9cfae1 d19b4e62510577d702e86648feea72074908d20d 112af2585e7dd78f5cb014513cdfc516967a33a5 7a5f4cd6b6d32245e48bcd54b42191d48b92f4e5 e1125fc48cb194101acdea60f2545ab838d6f1e7 84bc9013efc7770afead2aa0c92f5df944c48ccc^..20fd41090a83c9a23835132d56bd91f0041e3a1d 0f4c9788537e84cdd2609697fb4fe9bdd90246e9 d6215800b81990ec71669061e42f865fcbcb8a81 632ea5824109da2fb2a7734869279842dbfbd821 9552e7bbdf62c3da5b4a95e41800fd6385b03afb 86106b7019343d91bf9350ca03857722135737e8 b4023bc660deceaa9eda50b2d4d39e278c30035b 9be3011704bacd50552742cb410f236ab70f8c80 60466278ba288fc203547f0be056c9ff1c659e5d 680bf7a841a23652453c46e9c0710ca5b28fdb74 632d104036fcc15caf1785355d175bd1925058cc^..1f7bd812282cedec8ce3fa448f56373a72f2d261

  SF_script:
      - cd ~ && rm -rf rom
